<main id="multi-account-app"
    class="hidden h-screen w-screen grid grid-cols-1 lg:grid-cols-[530px,1fr] xl:grid-cols-[530px,1fr] gap-4 p-4">
    <div class="flex flex-col gap-4 h-full min-h-0">
      <div class="panel rounded-xl p-4 flex-shrink-0">
        <div class="flex justify-between items-center mb-3">
          <h2 class="text-lg font-bold text-slate-800 card-title">多账号控制台</h2>
          <div class="flex gap-2">
            <!-- <button id="show-sessions-multi" class="btn btn-ghost !py-1 !px-3" title="会话管理">会话</button> -->
            <button id="show-admin-panel-multi" class="btn btn-ghost !py-1 !px-3" title="管理面板">管理面板</button>
            <button id="exit-multi-mode-btn" class="btn btn-ghost !py-1 !px-3">返回登录页</button>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <button id="multi-start-all-btn" class="btn btn-primary">全部开始</button>
          <button id="multi-stop-all-btn" class="btn btn-danger">全部停止</button>
        </div>
        <div class="mt-4 space-y-2 text-sm border-t pt-3">
          <label class="flex items-center gap-2 cursor-pointer font-semibold text-slate-700">
            <input type="checkbox" id="multi-use-delay-check" checked class="w-4 h-4 accent-sky-600 rounded">
            启用随机启动延迟
            <div class="flex items-center gap-2 pl-6">
              <input type="number" id="multi-min-delay-input" value="0" class="input-field !py-1 w-20 text-center">
              <span>-</span>
              <input type="number" id="multi-max-delay-input" value="300" class="input-field !py-1 w-20 text-center">
              <span>秒</span>
            </div>
          </label>
          <label class="flex items-center gap-2 cursor-pointer font-semibold text-slate-700 mt-2">
            <input type="checkbox" id="multi-run-only-incomplete-check" checked class="w-4 h-4 accent-sky-600 rounded">
            仅执行未完成的任务
          </label>
        </div>
      </div>
      <div class="panel rounded-xl p-4 flex-grow flex flex-col min-h-0">
        <div class="flex justify-between items-center mb-1">
          <div class="flex items-center gap-2">
            <h2 class="text-lg font-bold text-slate-800">账号列表 (<span id="multi-account-count">0</span>)</h2>
            <input type="checkbox" id="multi-select-all-check" class="w-4 h-4 accent-sky-600 rounded" title="全选/取消全选">
          </div>
          <div class="flex gap-2">
            <button id="multi-import-excel-btn" class="btn btn-ghost !py-1 !px-3" title="从文件导入">导入</button>
            <button id="multi-export-excel-btn" class="btn btn-ghost !py-1 !px-3" title="导出汇总">导出</button>
            <button id="multi-download-template-btn" class="btn btn-ghost !py-1 !px-3" title="下载导入模板">下载模板</button>
          </div>

        </div>








        <div class="flex items-center justify-between mb-3 text-xs border-b pb-2">
          <!-- 左侧：刷新 -->
          <div class="flex items-center gap-2">

            <button id="multi-refresh-selected-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-blue-600">
              刷新选中
            </button>
            <button id="multi-refresh-all-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-blue-600">
              刷新全部
            </button>
          </div>

          <!-- 中央：控制 -->
          <div class="flex items-center gap-2">

            <button id="multi-start-selected-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-green-600">
              开始选中
            </button>
            <button id="multi-stop-selected-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-green-600">
              停止选中
            </button>
          </div>

          <!-- 右侧：移除 -->
          <div class="flex items-center gap-2">

            <button id="multi-remove-selected-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-red-600">
              移除选中
            </button>
            <button id="multi-remove-all-btn" class="btn btn-ghost !py-0.5 !px-2 text-sm text-red-600">
              移除全部
            </button>
          </div>
        </div>





















        <div id="multi-account-list" class="flex-grow overflow-y-auto -mr-2 pr-2" style="max-height: 42vh;">
          <p class="text-slate-400 text-center py-10">请先添加或导入账号</p>
        </div>
        <div class="mt-2 border-t pt-3 flex items-center gap-2">
          <select id="multi-config-user-select" class="select-field !py-1 flex-grow"></select>
          <button id="multi-add-from-config-btn" class="btn btn-ghost !py-1 !px-2 flex-shrink-0">添加</button>
          <button id="multi-load-all-from-config-btn" class="btn btn-ghost !py-1 !px-2 flex-shrink-0">添加全部</button>
        </div>
      </div>
      <div class="panel rounded-xl p-4 flex-shrink-0">
        <h3 class="font-bold text-slate-800 mb-2">全局参数</h3>
        <div id="multi-global-params-container" class="h-40 overflow-y-auto pr-1"></div>
      </div>
    </div>
    <div class="flex flex-col gap-4 h-full min-h-0">
      <div id="multi-map-container"
        class="flex-grow bg-slate-200 rounded-xl relative overflow-hidden border border-slate-200">
        <div
          class="absolute top-4 right-3 z-10 bg-white/80 backdrop-blur-sm rounded-full shadow-md flex items-center space-x-1 p-1 border border-slate-200">
          <button id="multi-zoom-in"
            class="w-9 h-9 font-bold text-xl text-center hover:bg-slate-100 rounded-full text-slate-700">+</button>
          <span id="multi-zoom-level" class="text-xs font-mono select-none w-8 text-center">17</span>
          <button id="multi-zoom-out"
            class="w-9 h-9 font-bold text-xl text-center hover:bg-slate-100 rounded-full text-slate-700">-</button>
          <button id="multi-reset-view-btn"
            class="w-9 h-9 font-bold text-lg flex items-center justify-center hover:bg-slate-100 rounded-full text-slate-700"
            title="复位视角">🎯</button>
        </div>
      </div>
      <div class="panel rounded-xl p-4 h-48 flex flex-col">
        <h3 class="font-bold text-slate-800 mb-2">全局日志</h3>
        <textarea id="multi-log-text" readonly
          class="w-full flex-grow bg-white/80 border border-slate-200 rounded-md p-2 text-xs text-slate-700 resize-none focus:outline-none leading-snug"></textarea>
      </div>
    </div>
  </main>